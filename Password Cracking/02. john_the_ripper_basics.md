# 🧰 Using John the Ripper (Password Cracking Basics)

**John the Ripper (JtR)** is a powerful open-source password-cracking tool used for testing password strength and recovering lost credentials.  
It works by applying various rules and wordlist attacks to generate and test possible passwords against password hashes.

---

## ⚙️ Checking Available Options

To view all the available commands and options for John the Ripper, run:

```bash
john --help
```

> This command lists available cracking modes, options, and rule parameters you can use to customize attacks

---

## 🧩 John Rules

John’s rules feature allows you to define how candidate passwords should be transformed or modified.
You can use --rules to load custom rule sets defined in John’s configuration file (john.conf).

Rules are helpful for wordlist mutation, meaning they can take a simple word (like “password”) and generate dozens of variations (like “Password1”, “p@ssword”, “PASSWORD123”, etc.).

### 🔤 Simple Command Rules

| Command | Description                                                 |
| ------- | ----------------------------------------------------------- |
| `:`     | **No operation (no-op)** — leaves the input word unchanged. |
| `l`     | Converts the word to **lowercase**.                         |
| `u`     | Converts the word to **uppercase**.                         |
| `c`     | **Capitalizes** the first letter of the word.               |

Example:
If your wordlist contains the word `admin`, applying rule `u` transforms it into `ADMIN`.

### 🔁 Character Class Commands

| Command | Description                                                         |
| ------- | ------------------------------------------------------------------- |
| `sXY`   | Replaces **all occurrences** of character `X` in the word with `Y`. |

Example:
`sao` will replace every `a` in the word with `o`.

`password → possword`

### 🔠 String Commands

| Command   | Description                                               |
| --------- | --------------------------------------------------------- |
| `AN"STR"` | Inserts the string `"STR"` into the word at position `N`. |
| `A0"STR"` | **Prefixes** the word with `"STR"`.                       |
| `Az"STR"` | **Appends** the string `"STR"` to the word.               |

Examples:

* `A0"123"` → Adds 123 before the word.
  
  Example: `password → 123password`

* `Az"!"` → Adds ! at the end.

  Example: `admin → admin!`

* `A3"@@"` → Inserts @@ after the third character.

  Example: `admin → adm@@in`

  ---

  ## 🧠 Creating a Rule Script to Generate Password Combinations

We can create a custom rule script in john.conf or a new file to define how passwords should be transformed.

For example:

```
[List.Rules:MyRules]
c
u
l
Az"123"
sao
```

Then run John with:
```
john --wordlist=wordlist.txt --rules=MyRules --stdout
```

This command will print out all generated password variations based on your custom rules — useful for wordlist expansion or testing.

### 🪄 Example Output

```
admin
guest
```

With the rules above, output could include:

```
Admin
ADMIN
admin123
gosst
guest123
```
## 🔧 Basic Commands & Examples

1. Run John with a wordlist (default auto-detect format)

```
john --wordlist=/usr/share/wordlists/rockyou.txt hashes.txt
```
2. Specify hash format (example: raw MD5)

```
john --format=raw-md5 --wordlist=/usr/share/wordlists/rockyou.txt hashes.txt
```

> Common --format examples: raw-md5, raw-sha1, raw-sha256, nt (Windows NT/LM hashes).

3. Show cracked passwords (after running John)

```
john --show hashes.txt
```

---

## 🪟 Cracking Windows (NT / NTLM) hashes

If you have NT/LM hashes (from Windows SAM):

```
john --format=nt --wordlist=/usr/share/wordlists/rockyou.txt windows_hashes.txt
```

---

## 🐧 Cracking Linux (shadow) hashes

Extract combined hash file from /etc/passwd and /etc/shadow:

```
unshadow passwd.txt shadow.txt > linux_hashes.txt
```

2. Crack:

```
john --wordlist=/usr/share/wordlists/rockyou.txt linux_hashes.txt
```

---

## 📦 Cracking Archive Files (ZIP / RAR)

* ZIP

1. Create a John-readable hash: `zip2john file.zip > file_zip_hash.txt`
2. Crack it: `john --wordlist=/usr/share/wordlists/rockyou.txt file_zip_hash.txt`

* RAR

1. Create hash: `rar2john file.rar > file_rar_hash.txt`
2. Crack: `john --wordlist=/usr/share/wordlists/rockyou.txt file_rar_hash.txt`

---

## 🔑 Cracking SSH keys & other specialized formats

* OpenSSH private keys (use the helper script ssh2john.py that comes with John):

```
ssh2john id_rsa > id_rsa.hash
john --wordlist=/usr/share/wordlists/rockyou.txt id_rsa.hash
```
* There are helper scripts for many formats (check run/ or contrib/ in your John installation).
---
