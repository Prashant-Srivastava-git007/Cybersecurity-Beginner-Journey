# 📎 Analysing Email Attachments

> ⚠️ **Disclaimer:**  
> This section is *not* a full malware analysis guide. It focuses only on **basic triage** and safe investigation of suspicious email attachments for learning purposes.

Phishing emails often include attachments that look harmless but may contain malware or links to infected websites. Learning how to safely analyze these files helps identify threats while keeping your system secure.

---

## 🧪 Lab Setup

To safely analyze suspicious attachments, always use:
- A **Linux virtual machine (VM)** or a **sandboxed environment**  
- **No direct execution** of unknown files  
- **Network isolation** to prevent outgoing connections  

We’ll practice using online tools and sandboxes that safely handle files without executing them locally.

---

## 🧩 Step 1: VirusTotal Analysis

**VirusTotal** is a free online platform that checks suspicious files or URLs using multiple antivirus engines.

### 🔹 Generate a File Hash
If you want to analyze any file safely:
```bash
sha256sum <filename>
```

Then copy the generated SHA-256 hash and search it on VirusTotal.

VirusTotal will:
  * Tell you if the file is already known to be malicious
  * Display which antivirus engines detected it
  * Show related file behavior and metadata

---

## 🧩 Step 2: Using Online Sandboxes

🧠 What is a Sandbox?

A sandbox is a secure, isolated environment used to run and study suspicious files.
It allows cybersecurity analysts to safely observe how malware behaves — without harming real systems.

Sandboxes show details like:
  * File and registry changes
  * Network activity (Command & Control attempts)
  * Dropped or created files
  * System processes and memory usage

---

## 💡 Benefits of Online Sandboxes
1. Safe and Isolated
   * Runs malware in a virtual environment.
   * Prevents infection of local machines or networks.
2. Automated Reports
   * Generates behavior reports automatically.
   * Displays file actions, network connections, and persistence attempts.
3. Behavioral Insights
   * Reveals file system changes, registry edits, and network calls.
4. Multiple OS Support
   * Many sandboxes allow testing in different systems (Windows, Linux, macOS).
5. Network Traffic Capture
   * Provides PCAP files for studying network indicators of compromise (IOCs).
6. Detects Evasion Techniques
   * Finds malware that delays execution or detects sandbox environments.
7. Threat Intelligence Integration
   * Correlates analysis results with known malware signatures.
8. Collaboration
    * Allows sharing reports and findings with the security community.
9. Zero Setup
    * Works entirely online — no installation required.
10. Free or Paid Options
    * Free tiers are available for students and beginners.
    * Paid versions offer deeper reports and more control.

---

## 🧰 Popular Online Sandboxes

| Sandbox                | Description                                  |
| ---------------------- | -------------------------------------------- |
| **ANY.RUN**            | Interactive, real-time malware analysis      |
| **Hybrid Analysis**    | CrowdStrike-powered automated sandbox        |
| **VirusTotal Dynamic** | Google’s behavioral analysis engine          |
| **Joe Sandbox**        | Deep and detailed malware behavior reports   |
| **VxStream Sandbox**   | Enterprise-level automated malware analysis  |
| **tri.age**            | Fast, cloud-based sandbox by Recorded Future |

---

## 🔍 Finding Safe Practice Samples

If you want to practice malware triage or attachment analysis safely, use publicly available repositories and sandbox submissions instead of random files.

✅ Recommended Sources:

MalwareBazaar
 – Community-driven malware samples

TheZoo Project
 – For educational malware samples

ANY.RUN Public Feed
 – Safe, anonymized public submissions

Hybrid Analysis Public Samples
 – Free sample collection

> ⚠️ Always use a Virtual Machine (VM) and disconnect it from the internet before handling or downloading any malware samples.

---
