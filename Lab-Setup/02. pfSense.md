# 🔥 pfSense – Installation & Setup Guide

## 🌐 What is pfSense?
**pfSense** is an **open-source firewall and router software** based on **FreeBSD** (a Unix-like operating system).  

It’s widely used for:
- 🔒 **Securing networks** (acts as a firewall)
- 📡 **Managing traffic** (routing between networks)
- 🏢 Providing **advanced network services** for both home labs and enterprise environments

---

## 🛠️ Installation Steps

### ✅ 1. Download pfSense
1. Visit [**www.pfsense.org/download/**](https://www.pfsense.org/download/).  
2. Choose the following options:  
   - **Type:** AMD64  
   - **Format:** ISO / Virtual Machines  
3. Before downloading, you’ll be asked to **create a free account** — don’t worry, pfSense is completely **open-source** (free).  
4. Once downloaded, **extract the `.gz` file** to get the ISO image.

---

### 💻 2. Create a pfSense Virtual Machine in VirtualBox
1. Open **VirtualBox** → click **“New”**.  
2. Fill in the details:  
   - **Name:** Any name of your choice  
   - **Folder:** Choose where to save the VM  
   - **ISO File:** Select the pfSense ISO you downloaded  
   - **Type:** BSD  
   - **Version:** FreeBSD (64-bit)  
3. Allocate **resources** (depending on your host system):  
   - **RAM (Base Memory):** 1024 MB or more  
   - **CPU Cores:** 1–2 cores (more if available)  
   - **Hard Disk:** 20 GB is usually enough  
4. Make sure to **skip unintended installation** prompts.  
5. Click **Finish** to create the VM.

---

### ⚙️ 3. Adjust Virtual Machine Settings
Select your newly created pfSense VM → click **Settings** → update the following:

#### 🔑 System
- Set the **Boot Order** to:
  1. Optical (ISO)
  2. Hard Disk
  3. Disable the rest (like Floppy)

#### 🔇 Audio
- Go to **Audio** → **Disable** it (not needed for pfSense).

#### 🌍 Network (Important!)
We’ll use **3 network adapters**:

1. **Adapter 1 (WAN):**
   - Set **Attached to:** Bridged Adapter  
   - Choose the **network interface** of your host system  
   - Set **Adapter Type:** Paravirtualized Network  

   👉 This connects the pfSense VM to your **home/office network**, allowing it to access the internet.  
   Essentially, pfSense will appear as a **separate device on your network**.

2. **Adapter 2 (LAN 0):**
   - Enable it → set **Attached to:** Internal Network  
   - Name it: `LAN 0`  
   - Set **Adapter Type:** Paravirtualized Network  

3. **Adapter 3 (LAN 1):**
   - Enable it → set **Attached to:** Internal Network  
   - Name it: `LAN 1`  
   - Set **Adapter Type:** Paravirtualized Network  

👉 **Why 3 Adapters?**
- **Adapter 1 (WAN):** Connects to your **real network** (Internet access).  
- **Adapter 2 (LAN 0):** Acts as the **first internal lab network** (e.g., target machines).  
- **Adapter 3 (LAN 1):** Acts as a **second internal lab network** (e.g., attacker’s network).  

---

### 🔌 USB
- Disable **USB** (not required for this setup).

---

## 💡 Notes
- pfSense will now act as the **firewall/router** between your networks.  
- The **WAN adapter** connects to your internet, while **LAN 0** and **LAN 1** let you simulate different internal network segments.  
- This setup is great for creating **realistic cybersecurity lab environments** for practicing IDS, firewall rules, and segmentation.

---

### 🚀 4. Start pfSense
After configuring the VM settings (network adapters, disabling USB, etc.), you’re ready to install **pfSense**.  
Follow these steps carefully:

---
1. **Start the pfSense VM** in VirtualBox.
2. **Accept the Copyright & Distribution Notice**  
   - Use the arrow keys to select **“Install pfSense”** → press **Enter** → click **OK**.
3. **Network Installation**  
   - Simply select **OK** to continue.
4. **WAN Interface Assignment & Configuration**  
   - Choose **`vtnet0`** (this is the WAN adapter you set earlier) → select **OK**.
5. **WAN Network Mode Setup**  
   - Just confirm the default settings → select **OK**.
6. **Interface Assignment & Configuration**  
   - Make sure **LAN** is highlighted → select **Continue** → **OK**.
7. **Install CE (Community Edition)**  
   - Select **Install CE** → then select **Continue** → **OK**.
8. **ZFS Virtual Device Type Configuration**  
   - Choose **Stripe** (suitable for single-disk setups) → **OK**.
9. **Select the Disk**  
   - Highlight your VM’s virtual disk → **OK**.
10. **Confirm Installation**  
    - Select **Yes** to confirm → then choose the **latest version of pfSense** → **OK**.
11. **Installation Process Begins**  
    - Wait for the setup to finish.  
    - When done, select **OK** to finish.
12. **Reboot the System**  
    - After installation completes, **reboot the VM** to load pfSense.

---

## 🔑 Notes
- Use **arrow keys** and **Enter** to navigate the text-based installer.
- Always confirm that **WAN = vtnet0** and **LAN is correctly assigned**.
- After the reboot, pfSense will start and display its default console menu.

---


